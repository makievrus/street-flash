var _i_=this._i_||function(){},_r_=this._r_||function(e){return e},_sp_=this._sp_||function(e){B.et.customGoal("cDPPESHbfNFVTAYZSQDZET",1),B.reportError({message:"SPDR function called - "+e},"SPDR")};B.define("css-coverage-collector",function(e){_i_("df7:ede63b94"),e("jquery");var t=function(r,s){function e(){}function t(){_i_("df7:fc176b9f"),this.console=void 0!==window.console&&console,_r_()}function i(e,t){_i_("df7:bcdd3c68"),this.ruleListProvider=e,this.usageProcessor=t,this.MEASUREMENT_LATENCY=m.get("latency"),this.MAX_NUMBER_OF_RUNS=m.get("runs"),this.INTERVAL_BETWEEN_RUNS=m.get("runsInterval"),this.ruleCollection=void 0,this._requestedIdleTimeId=void 0,this._nextRunTimeoutId=void 0,this._readyness=void 0,this.listProcessingIsLocked=!1,this.numberOfRunsLeft=this.MAX_NUMBER_OF_RUNS,m.get("version")&&(this.VERSION=m.get("version")+this.VERSION),_r_()}function n(e){_i_("df7:3f66be0f"),this.fileName=e,_r_()}function _(e,t){_i_("df7:8a84c2e2"),this.selector=e,this.styleSheetObject=t,this.pointerNext=null,_r_()}function o(e,t){_i_("df7:ce11388d"),this.list=e,this.pointer=[];for(var i=0;i<this.list.length-1;i++)this.pointer.push(i+1);this.pointer[this.list.length-1]=0,this.total=this.list.length,this.used=0,this.iterationCount=this.total-this.used,this.currentCursor=0,this.prevCursor=this.list.length-1,this.usedItemsByRef=t,_r_()}function c(e){_i_("df7:69939083"),this.currentItem=e[0],this.prevItem=e[e.length-1],this.total=e.length,this.used=0,this.itemsByProcessingStatus={used:{},notUsed:{}},this.resetIteration(),_r_()}function u(e,t){_i_("df7:2b5944d5"),this.ruleListProvider=e,this.usageProcessor=t,this.avgTimeOnPage=m.get("fallback").timings.avgTimeOnPage,this.numberOfSelectors=m.get("fallback").timings.numberOfSelectors,this.numberOfChecks=m.get("fallback").timings.numberOfChecks,m.get("version")&&(this.VERSION=m.get("version")+this.VERSION),this.ruleList=void 0,this._scheduleTimeId=void 0,this.listProcessingIsLocked=!1,this.usageObjectRef={},this.init(),_r_()}function l(){}function h(e,t,i){_i_("df7:5d938391"),this.ruleListPreProcessor=e,this.cssRuleCollectionFactory=t,this.resultAsLinkedList=i,this.eventEmitter=r("<div/>"),this._watchDynamicStyleSheets(),_r_()}function a(){}function f(){}function d(){}function g(){}function S(){}function b(){}_i_("df7:f715a47a"),r=r&&r.hasOwnProperty("default")?r.default:r,s=s&&s.hasOwnProperty("default")?s.default:s,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(_i_("df7:20ff15b9"),null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),r=1;r<arguments.length;r++){var s=arguments[r];if(null!=s)for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}return _r_(i)},writable:!0,configurable:!0}),Object.assign(e.prototype,{_default:{autoStart:!0,siteType:"unknown",pageName:"",version:"v",latency:.8,runs:10,runsInterval:4500,debug:!1,coverage:{hostnames:[],filenames:[],processAllStylesheets:!1,processStyleTags:!0,onStylesheetAccessError:function(e){},onStylesheetXHRSend:function(){},onStylesheetXHRDone:function(){},onStylesheetXHRFail:function(){}},service:{endpoint:"",csrfToken:""},fallback:{useFallback:!0,force:!1,timings:{numberOfSelectors:9,numberOfChecks:45,avgTimeOnPage:49e3},onXHRBeforeSend:function(){},onXHRSuccess:function(){},onXHRFail:function(){}}},_options:{},init:function(e){_i_("df7:86c6aad1"),this._options=r.extend(!0,{},this._default,e),_r_()},get:function(e){return _i_("df7:17256da8"),_r_(this._options[e])}});var m=new e;Object.assign(t.prototype,{log:function(e){_i_("df7:fa8d059b"),m.get("debug")&&this.console&&this.console.log(e),_r_()},debug:function(e){_i_("df7:cb996544"),m.get("debug")&&this.console&&this.console.debug(e),_r_()}});var y=new t;Object.assign(i.prototype,{VERSION:9,TYPE:"IDLE_TIME_ONLY",MEASUREMENT_LATENCY:.8,INTERVAL_BETWEEN_RUNS:4500,MAX_NUMBER_OF_RUNS:10,init:function(){_i_("df7:b8de3b8a"),this._readyness||(this._readyness=this.ruleListProvider.getRuleCollection(),this.ruleListProvider.getEvents().on("onload.stylesheet",this._putStyleSheetToHoop.bind(this)),r(window).on("beforeunload",this._stopStatGathering.bind(this))),_r_()},run:function(){_i_("df7:3037b867"),this._readyness.then(function(e){_i_("df7:1adb25fa"),this.ruleCollection=e,this.numberOfRunsLeft&&(this.numberOfRunsLeft--,this._requestNextTestIteration()),_r_()}.bind(this)),_r_()},getCoverage:function(){return _i_("df7:3c62306c"),_r_(this.ruleCollection?{action:m.get("siteType")+":"+m.get("pageName"),version:this.VERSION,rules:this.usageProcessor.buildUsage(this.ruleCollection)}:{})},_requestNextTestIteration:function(){_i_("df7:5f66f681"),this._requestedIdleTimeId=window.requestIdleCallback(function(e){for(_i_("df7:6d96d6b0");e.timeRemaining()>=this.MEASUREMENT_LATENCY&&this.ruleCollection.getIterationCount()&&!this.listProcessingIsLocked;this.ruleCollection.nextIteration())try{0!==r(this.ruleCollection.getCurrentItem().getSelector()).length?(y.debug("+ Found used rule: "+this.ruleCollection.getCurrentItem().getSelector()),this.ruleCollection.markCurrentItemAsUsedAndMoveNext()):(y.debug("- Found unused rule: "+this.ruleCollection.getCurrentItem().getSelector()),this.ruleCollection.markCurrentItemAsChecked(),this.ruleCollection.moveNext())}catch(e){/%/.test(this.ruleCollection.getCurrentItem().getSelector())||window.__css_coverage_error_report__&&window.__css_coverage_error_report__(e)}0===this.ruleCollection.getIterationCount()?(this.ruleCollection.resetIteration(),!this.listProcessingIsLocked&&0<this.ruleCollection.getIterationCount()&&this.numberOfRunsLeft&&(this.numberOfRunsLeft--,this._nextRunTimeoutId=setTimeout(this._requestNextTestIteration.bind(this),this.INTERVAL_BETWEEN_RUNS+Math.floor(1e3*Math.random())))):this.listProcessingIsLocked||this._requestNextTestIteration(),_r_()}.bind(this)),_r_()},_lockListProcessing:function(){_i_("df7:578e48cd"),this.listProcessingIsLocked=!0,_r_()},_unlockListProcessing:function(){_i_("df7:0dcdad48"),this.listProcessingIsLocked=!1,_r_()},_cancelScheduledIdleTime:function(){_i_("df7:7de1b8ae"),window.cancelIdleCallback(this._requestedIdleTimeId),window.clearTimeout(this._nextRunTimeoutId),_r_()},_putStyleSheetToHoop:function(e,t){_i_("df7:e5de3145"),t.then(function(e){_i_("df7:4dbe1182"),0!==e.length&&(this._lockListProcessing(),this._cancelScheduledIdleTime(),this.ruleCollection.insertNewItemsAfterCursor(e),this._unlockListProcessing(),this._requestNextTestIteration()),_r_()}.bind(this)),_r_()},_stopStatGathering:function(){_i_("df7:a1e6ebde"),this._lockListProcessing(),this._cancelScheduledIdleTime(),_r_()}}),Object.assign(n.prototype,{getFileName:function(){return _i_("df7:510ef90a"),_r_(this.fileName)}}),Object.assign(_.prototype,{getSelector:function(){return _i_("df7:9737be2b"),_r_(this.selector)},getStyleSheetObject:function(){return _i_("df7:83654f30"),_r_(this.styleSheetObject)},setPointerNext:function(e){_i_("df7:91b7b88a"),this.pointerNext=e,_r_()},getPointerNext:function(){return _i_("df7:49b99819"),_r_(this.pointerNext)},dealloc:function(){_i_("df7:981318d2"),this.selector=null,this.styleSheetObject=null,this.pointerNext=null,_r_()}}),Object.assign(o.prototype,{getIterationCount:function(){return _i_("df7:8c258173"),_r_(this.iterationCount)},nextIteration:function(){_i_("df7:4804c985"),this.iterationCount--,_r_()},getCurrentItem:function(){return _i_("df7:20b562ed"),_r_(this.list[this.currentCursor])},moveNext:function(){_i_("df7:a5db5acd"),this.prevCursor=this.currentCursor,this.currentCursor=this.pointer[this.currentCursor],_r_()},resetIteration:function(){_i_("df7:7fe3586f"),this.iterationCount=this.total-this.used,_r_()},getUsedItems:function(){return _i_("df7:41ae0872"),_r_(this.usedItemsByRef)},getTotalCount:function(){return _i_("df7:42ffcfb8"),_r_(this.total)},insertNewItemsAfterCursor:function(e){_i_("df7:8d423e53");var t=this.total;this.list=this.list.concat(e);var i=this.pointer[this.currentCursor];this.pointer[this.currentCursor]=t;for(var r=0;r<e.length-1;r++)this.pointer.push(t+1+r);this.pointer.push(i),this.total=this.list.length,this.iterationCount=this.total-this.used,_r_()},markCurrentItemAsUsedAndMoveNext:function(){var e;_i_("df7:736136f6"),this.used++,this._addCurrentItemToUsedList(1),this.pointer[this.prevCursor]=this.pointer[this.currentCursor],e=this.list[this.currentCursor],this.currentCursor=this.pointer[this.currentCursor],e.dealloc(),_r_()},markCurrentItemAsChecked:function(){_i_("df7:ee657dea"),this._addCurrentItemToUsedList(0),_r_()},_addCurrentItemToUsedList:function(e){var t,i;_i_("df7:d0113c90"),i=(t=this.list[this.currentCursor]).getStyleSheetObject().getFileName(),this.usedItemsByRef[i]||(this.usedItemsByRef[i]={}),this.usedItemsByRef[i][t.getSelector()]=e,_r_()}}),Object.assign(c.prototype,{LIMIT_ON_ITERATION_COUNT:300,getIterationCount:function(){return _i_("df7:8c2581731"),_r_(this.iterationCount)},nextIteration:function(){_i_("df7:4804c9851"),this.iterationCount--,_r_()},getCurrentItem:function(){return _i_("df7:cd406f2d"),_r_(this.currentItem)},markCurrentItemAsUsedAndMoveNext:function(){var e;_i_("df7:607d52bb"),this.used++,this._addCurrentItemToUsedList(),this.prevItem.setPointerNext(this.currentItem.getPointerNext()),e=this.currentItem,this.currentItem=this.currentItem.getPointerNext(),e.dealloc(),_r_()},markCurrentItemAsChecked:function(){_i_("df7:4ae0a797"),this.itemsByProcessingStatus.notUsed[this.currentItem.getStyleSheetObject().getFileName()]||(this.itemsByProcessingStatus.notUsed[this.currentItem.getStyleSheetObject().getFileName()]={}),this.itemsByProcessingStatus.notUsed[this.currentItem.getStyleSheetObject().getFileName()][this.currentItem.getSelector()]=1,_r_()},moveNext:function(){_i_("df7:2bd2622f"),this.prevItem=this.currentItem,this.currentItem=this.currentItem.getPointerNext(),_r_()},resetIteration:function(){_i_("df7:0772cf0d"),this.LIMIT_ON_ITERATION_COUNT<1?this.iterationCount=this.total-this.used:this.iterationCount=Math.min(this.LIMIT_ON_ITERATION_COUNT,this.total-this.used),_r_()},insertNewItemsAfterCursor:function(e){_i_("df7:19acb163");var t=this.currentItem.getPointerNext();this.currentItem.setPointerNext(e[0]),e[e.length-1].setPointerNext(t),this.total+=e.length,this.resetIteration(),_r_()},getUsedItems:function(){return _i_("df7:85f6e7e5"),_r_(this.itemsByProcessingStatus.used)},getNotUsedItems:function(){return _i_("df7:da4ac488"),_r_(this.itemsByProcessingStatus.notUsed)},getTotalCount:function(){return _i_("df7:42ffcfb81"),_r_(this.total)},_addCurrentItemToUsedList:function(){_i_("df7:9bbee625"),this.itemsByProcessingStatus.used[this.currentItem.getStyleSheetObject().getFileName()]||(this.itemsByProcessingStatus.used[this.currentItem.getStyleSheetObject().getFileName()]={}),this.itemsByProcessingStatus.notUsed[this.currentItem.getStyleSheetObject().getFileName()]&&delete this.itemsByProcessingStatus.notUsed[this.currentItem.getStyleSheetObject().getFileName()][this.currentItem.getSelector()],this.itemsByProcessingStatus.used[this.currentItem.getStyleSheetObject().getFileName()][this.currentItem.getSelector()]=1,_r_()}});var I={STYLESHEET_HREF_RE:/\/([\w\-]+)_(user|not_compressed|edgecast|ecv6|akamai|china_cache|quantil|quantils|fastly|abstatic|highwinds|level3|tor|cloudfront)/,_styleSheetObjectByFileName:{},_cacheFileNameByHref:{},createCollection:function(e){return _i_("df7:2111d519"),_r_(new c(e))},createList:function(e,t){return _i_("df7:d7708e51"),_r_(new o(e,t))},createRuleObject:function(e,t){var i,r;if(_i_("df7:cb24f3b1"),this._cacheFileNameByHref[t])i=this._cacheFileNameByHref[t];else{if(r=t.match(this.STYLESHEET_HREF_RE))i="k:"+r[1];else{var s=t.split(/\/\/?/);s.shift(),s.shift(),s.shift(),i="u:"+s.join("__")}this._cacheFileNameByHref[t]=i,void 0===this._styleSheetObjectByFileName[i]&&(this._styleSheetObjectByFileName[i]=new n(i))}return _r_(new _(e,this._styleSheetObjectByFileName[i]))}};Object.assign(u.prototype,{VERSION:10,TYPE:"FORCED_IN_MAIN_THREAD",init:function(){_i_("df7:e8273aef"),this.ruleListProvider.getEvents().on("onload.stylesheet",this._putStyleSheetToHoop.bind(this)),r(window).on("beforeunload",this._stopStatGathering.bind(this)),_r_()},run:function(){_i_("df7:c31ef193"),this.ruleListProvider.getArrayRuleList().then(function(e){_i_("df7:49973dcb"),this.ruleList=I.createList(e,this.usageObjectRef),this._scheduleChecks(),_r_()}.bind(this)),_r_()},getCoverage:function(){return _i_("df7:b67c9b4c"),_r_(this.ruleList?{action:m.get("siteType")+":"+m.get("pageName"),version:this.VERSION,rules:this.usageProcessor.buildUsage(this.ruleList)}:{})},_scheduleChecks:function(){var e,t,i;if(_i_("df7:4afac6db"),this._getAvgTimeOnPage()){for(i=this._getNumberOfCheckPerSession(),e=parseInt(Math.random()*this._getCalculateInterval()),t=parseInt(Math.random()*this.ruleList.getTotalCount());t--;)this.ruleList.moveNext();this._runCheckAndScheduleNext({selectorsPerRun:this._getNumberOfSelectorsPerCheck(),count:i+1,offset:e})}_r_()},_getCalculateInterval:function(){return _i_("df7:6c74f0cf"),_r_(parseInt(this._getAvgTimeOnPage()/this._getNumberOfCheckPerSession()))},_getAvgTimeOnPage:function(){return _i_("df7:5eef38cc"),_r_(this.avgTimeOnPage)},_getNumberOfSelectorsPerCheck:function(){return _i_("df7:2903155d"),_r_(this.numberOfSelectors)},_getNumberOfCheckPerSession:function(){return _i_("df7:55ec6f6b"),_r_(this.numberOfChecks)},_runCheckAndScheduleNext:function(e){_i_("df7:a57d6ed9");var t,i=!1;this.listProcessingIsLocked||(i=0===(t=this._runCheck(e.selectorsPerRun))),i?(e.count--,this._sendDataIfItsNeeded(this._getNumberOfCheckPerSession()+1-e.count),0<e.count&&(this._scheduleTimeId=setTimeout(this._runCheckAndScheduleNext.bind(this,{selectorsPerRun:this._getNumberOfSelectorsPerCheck(),count:e.count}),e.offset?e.offset:this._getCalculateInterval()))):this._scheduleTimeId=setTimeout(this._runCheckAndScheduleNext.bind(this,{selectorsPerRun:t,count:e.count}),parseInt(this._getCalculateInterval()/2)),_r_()},_runCheck:function(e){var t;_i_("df7:fc54fe35");try{this.ruleList.resetIteration();for(var i=0;i<e&&this.ruleList.getIterationCount()&&!this.listProcessingIsLocked;i++,this.ruleList.nextIteration())0!==r(this.ruleList.getCurrentItem().getSelector()).length?(y.debug("+ Found used rule: "+this.ruleList.getCurrentItem().getSelector()),this.ruleList.markCurrentItemAsUsedAndMoveNext()):(y.debug("- Found unused rule: "+this.ruleList.getCurrentItem().getSelector()),this.ruleList.markCurrentItemAsChecked(),this.ruleList.moveNext());0!=(t=e-i)&&0===this.ruleList.getIterationCount()&&(t=0)}catch(e){/%/.test(this.ruleList.getCurrentItem().getSelector())||window.__css_coverage_error_report__&&window.__css_coverage_error_report__(e)}return _r_(t)},_sendDataIfItsNeeded:function(e){var t,i;_i_("df7:0f4c1284"),0!==e&&e%2!=1&&(this._trackBeforeSending(),i=this.getCoverage(),_i_("df7:d4e12bd3"),t=_r_(r.ajax({url:m.get("service").endpoint,method:"POST",data:{selectors:JSON.stringify(i)},headers:{"X-Booking-CSRF":m.get("service").csrfToken}})),Object.keys(this.usageObjectRef).forEach(function(e){_i_("df7:af5acb87"),delete this.usageObjectRef[e],_r_()},this),t.then(this._trackSuccessfulSending.bind(this)),t.fail(this._trackFailedSending.bind(this))),_r_()},_trackBeforeSending:function(){_i_("df7:c6e55555"),m.get("fallback").onXHRBeforeSend(),_r_()},_trackSuccessfulSending:function(e){_i_("df7:f74b9912"),e&&"ok"===e.result?m.get("fallback").onXHRSuccess():this._trackFailedSending(),_r_()},_trackFailedSending:function(){_i_("df7:bb00927d"),m.get("fallback").onXHRFail(),_r_()},_lockListProcessing:function(){_i_("df7:578e48cd1"),this.listProcessingIsLocked=!0,_r_()},_unlockListProcessing:function(){_i_("df7:0dcdad481"),this.listProcessingIsLocked=!1,_r_()},_cancelScheduledTimeout:function(){_i_("df7:9f8cf9ee"),window.clearTimeout(this._scheduleTimeId),_r_()},_putStyleSheetToHoop:function(e,t){_i_("df7:2ba9c77e"),t.then(function(e){_i_("df7:a1a06d76"),0!==e.length&&(this._lockListProcessing(),this.ruleList.insertNewItemsAfterCursor(e),this._unlockListProcessing()),_r_()}.bind(this)),_r_()},_stopStatGathering:function(){_i_("df7:56e83d27"),this._lockListProcessing(),this._cancelScheduledTimeout(),_r_()}}),Object.assign(l.prototype,{flatRuleList:function(e){_i_("df7:980ea2fc");var t,i=[];t=e.length;for(var r,s=0;s<t;s++){r=e[s].length;for(var n=0;n<r;n++)i.push(e[s][n])}return _r_(i)},atomizeCSSOMSelectorsToTinyRuleObjects:function(e){var t,i;_i_("df7:cea9df08"),t=[],i=e.length;for(var r,s,n,_,o=0;o<i;o++)if(e[o].type===CSSRule.STYLE_RULE){_=e[o].parentStyleSheet.href||e[o].parentStyleSheet.__href__,-1<(r=e[o].selectorText).indexOf(":")&&(r=r.replace(/\\:/g,"zQ_").replace(/:?:(([a-z\-]+)\([^)]+\)|([a-z\-]+))/g,"").replace(/zQ_/g,"\\:")),n=(s=r.split(",")).length;for(var c=0;c<n;c++)(s[c]=s[c].trim())&&t.push(I.createRuleObject(s[c],_))}return _r_(t)},uniqueRuleList:function(e){_i_("df7:fbd1be8a");var t,i={},r=[];t=e.length;for(var s,n=0;n<t;n++)i[s=e[n].selector]||(i[s]=!0,r.push(e[n]));return _r_(r)},shuffleRuleList:function(e){_i_("df7:b80cc602");for(var t,i,r=e.length-1;0<r;r--)t=Math.floor(Math.random()*(r+1)),i=e[r],e[r]=e[t],e[t]=i;return _r_(e)},linkObjectList:function(i){return _i_("df7:547f637e"),_r_((0===i.length||(i.forEach(function(e,t){_i_("df7:e92c219a"),0<t&&i[t-1].setPointerNext(e),_r_()}),i[i.length-1].setPointerNext(i[0])),i))}}),Object.assign(h.prototype,{POLLING_INTERVAL:3e3,TITLE_PREFIX:"temp-stylesheet-",getRuleCollection:function(){return _i_("df7:57ae2baa"),_r_(this.getLinkedRuleList(this.getAllEligibleStyleSheets()).then(this.cssRuleCollectionFactory.createCollection.bind(this.cssRuleCollectionFactory)))},getLinkedRuleList:function(e){return _i_("df7:0d69580e"),_r_(this._getArrayRuleListByStyleSheetList(e).then(this.ruleListPreProcessor.linkObjectList.bind(this.ruleListPreProcessor)))},getArrayRuleList:function(){return _i_("df7:c5a3e6f3"),_r_(this._getArrayRuleListByStyleSheetList(this.getAllEligibleStyleSheets()))},_getArrayRuleListByStyleSheetList:function(e){return _i_("df7:9d71fe01"),_r_(s.all(e.map(this.getRuleListFromStyleSheet.bind(this))).then(this.ruleListPreProcessor.flatRuleList.bind(this.ruleListPreProcessor)).then(this.ruleListPreProcessor.atomizeCSSOMSelectorsToTinyRuleObjects.bind(this.ruleListPreProcessor)).then(this.ruleListPreProcessor.uniqueRuleList.bind(this.ruleListPreProcessor)).then(this.ruleListPreProcessor.shuffleRuleList.bind(this.ruleListPreProcessor)).then(this._removeTechStyleSheets.bind(this)))},getAllEligibleStyleSheets:function(){_i_("df7:3b57a27f");var e,s;return _r_((s=m.get("coverage").filenames,e=Array.prototype.slice.apply(document.styleSheets).filter(function(i){return _i_("df7:8e264c07"),_r_(m.get("coverage").processStyleTags&&"css-coverage-friendly"===i.title?(i.__href__="inlined-in-style-tag",!0):"string"==typeof i.href&&(!(!m.get("coverage").processAllStylesheets&&(m.get("coverage").hostnames||m.get("coverage").filenames))||!m.get("coverage").hostnames||m.get("coverage").hostnames.reduce(function(e,t){return _i_("df7:9691f7f8"),_r_(e=e||0===i.href.indexOf(t)&&I.STYLESHEET_HREF_RE.test(i.href))},!1)))}),s.length&&(e=e.filter(function(e){_i_("df7:3d5bbbed");for(var t,i=!1,r=0;!i&&r<s.length;r++)2===(t=(e.href||"").split(s[r])).length&&(i=/^_(user|not_compressed|edgecast|ecv6|akamai|china_cache|quantil|quantils|fastly|abstatic|highwinds|level3|tor|cloudfront)/.test(t[1]));return _r_(i)})),e))},getRuleListFromStyleSheet:function(e){return _i_("df7:82bc2418"),_r_(this._isCrossOrigined(e)?this._getCrossOrigined(e):this._getSameOriginedStyleSheet(e))},getEvents:function(){return _i_("df7:4f6eba2d"),_r_(this.eventEmitter)},_isCrossOrigined:function(e){return _i_("df7:988f1931"),_r_("string"==typeof e.href&&0<e.href.length&&void 0===this._getCssRulesFromStyleSheet(e))},_getCrossOrigined:function(r){return _i_("df7:380b579b"),_r_(new s(function(e,t){_i_("df7:77c9ceed");var i=new(window.XDomainRequest||window.XMLHttpRequest);i.open("get",r.href,!0),i.ontimeout=function(){_i_("df7:d6849950"),t({reason:"xhrtimeout"}),_r_()},i.onerror=function(){_i_("df7:49ae8e62"),t({reason:"xhrerror"}),_r_()},i.onload=function(){_i_("df7:dd0f9479"),e(i.responseText),_r_()},i.send(r.href),m.get("coverage").onStylesheetXHRSend(),_r_()}).then(function(e){var t,i;_i_("df7:476a255f"),m.get("coverage").onStylesheetXHRDone();try{return _r_((i=this.TITLE_PREFIX+parseInt(1e6*Math.random()),(t=document.createElement("style")).setAttribute("media","print"),t.setAttribute("title",i),t.setAttribute("__recruted_in_coverage__",1),t.innerHTML=e,document.body.appendChild(t),(t=this._getStyleSheetById(i))?(t.__recruted_in_coverage__=!0,t.__href__=r.href,s.resolve(this._getRuleList(t))):s.resolve([])))}catch(e){window.__css_coverage_error_report__&&window.__css_coverage_error_report__(e)}_r_()}.bind(this)).catch(function(e){return _i_("df7:2f286fa7"),_r_((m.get("coverage").onStylesheetXHRFail(),s.resolve([])))}.bind(this)))},_getCssRulesFromStyleSheet:function(e){_i_("df7:87571c84");try{if(null!==e.cssRules&&void 0!==e.cssRules)return _r_(e.cssRules);if(null!==e.rules&&void 0!==e.rules)return _r_(e.rules)}catch(e){m.get("coverage").onStylesheetAccessError(e)}_r_()},_getSameOriginedStyleSheet:function(e){return _i_("df7:2401839d"),_r_(s.resolve(this._getRuleList(e)))},_getStyleSheetById:function(t){return _i_("df7:d89ccba1"),_r_(Array.prototype.slice.apply(document.styleSheets).filter(function(e){return _i_("df7:990e728d"),_r_(e.title===t)}).pop())},_getRuleList:function(e){var t,i,r;if(_i_("df7:8ba2857e"),void 0!==(t=this._getCssRulesFromStyleSheet(e))){r=[],i=t.length;for(var s=0;s<i;s++)r[s]=t[s];return _r_(r)}_r_()},_removeTechStyleSheets:function(e){return _i_("df7:afc61bf3"),_r_((Array.prototype.slice.apply(r("style[media=print]")).forEach(function(e){_i_("df7:316c4217"),e.getAttribute("__recruted_in_coverage__")&&e.parentNode.removeChild(e),_r_()}),e))},_watchDynamicStyleSheets:function(){_i_("df7:58ace60c"),this.getAllEligibleStyleSheets().forEach(function(e){_i_("df7:697bd62c"),e.__recruted_in_coverage__=!0,_r_()}),setTimeout(function(){var e;_i_("df7:100fd182"),(e=this.getAllEligibleStyleSheets().reduce(function(e,t){return _i_("df7:3054457f"),_r_((t.__recruted_in_coverage__||(t.__recruted_in_coverage__=!0,e.push(t)),e))},[])).length&&this.getEvents().trigger("onload.stylesheet",this.resultAsLinkedList?this.getLinkedRuleList(e):this._getArrayRuleListByStyleSheetList(e)),setTimeout(arguments.callee.bind(this),this.POLLING_INTERVAL),_r_()}.bind(this),this.POLLING_INTERVAL),_r_()}});var v=function(e){return _i_("df7:7254d951"),_r_(new h(new l,I,e))};Object.assign(a.prototype,{buildUsage:function(e){return _i_("df7:91272085"),_r_(JSON.stringify(this._buildUsageObjFormat(e)))},_buildUsageObjFormat:function(e){var t,i,r,s;for(_i_("df7:4b252e26"),s=Object.assign({},e.getUsedItems()),t=e.getCurrentItem(),i=!0;e.getCurrentItem()!==t||i;)i=!1,s[r=e.getCurrentItem().getStyleSheetObject().getFileName()]||(s[r]={}),s[r][e.getCurrentItem().getSelector()]||(s[r][e.getCurrentItem().getSelector()]=0),e.moveNext();return _r_(s)}}),Object.assign(f.prototype,a.prototype,{buildUsage:function(e){return _i_("df7:76775a16"),_r_(JSON.stringify(this._buildUsage(e)))},_buildUsage:function(e){var t,i;return _i_("df7:1d106a3f"),_r_((t=this._buildUsageObjFormat(e),i={},Object.keys(t).forEach(function(e){_i_("df7:609fb73b"),i[e]=this._flatToArray(t[e]),_r_()},this),i))},_flatToArray:function(i){return _i_("df7:a005bc81"),_r_(Object.keys(i).reduce(function(e,t){return _i_("df7:2f7db657"),_r_((e[parseInt(i[t])].push(t),e))},[[],[]]))}}),Object.assign(d.prototype,{SIZE_UPPER_BOUND:15e3,PERCENT_OF_USED_SELECTORS:75,buildUsage:function(e){_i_("df7:48147f68");var t={};return _r_((this.buildUsageForStylesheetsMap(e.getNotUsedItems(),0,t,this.SIZE_UPPER_BOUND*(100-this.PERCENT_OF_USED_SELECTORS)/100),this.buildUsageForStylesheetsMap(e.getUsedItems(),1,t,this.SIZE_UPPER_BOUND*this.PERCENT_OF_USED_SELECTORS/100),t))},buildUsageForStylesheetsMap:function(t,e,i,r){var s,n,_,o,c,u,l;for(_i_("df7:7ea64123"),s=[0],n=[],_=[],Object.keys(t).forEach(function(e){_i_("df7:00c1525f"),n.push(e),s.push(s[s.length-1]+Object.keys(t[e]).length),_r_()}),c=0;c<s[s.length-1];c++)_.push(c);for(s.push(1e7),c=o=0;c<_.length;c++){for(u=0;u<s.length;u++)if(_[c]<s[u]){i[n[u-1]]||(i[n[u-1]]={},o+=n[u-1].length+6),l=Object.keys(t[n[u-1]])[_[c]-s[u-1]],i[n[u-1]][l]=e,o+=l.length+5;break}if(r<o)break}_r_()},_shuffleArray:function(e){var t,i,r;for(_i_("df7:e8cff3df"),r=e.length-1;0<r;r--)t=Math.floor(Math.random()*(r+1)),i=e[r],e[r]=e[t],e[t]=i;return _r_(e)}}),Object.assign(g.prototype,a.prototype,{buildUsage:function(e){var t,i;return _i_("df7:9d7c37fd"),_r_((t=this._buildUsageObjFormat(e),i={},Object.keys(t).forEach(function(e){_i_("df7:146a7338"),i[e]=this._stringifyTree(this._buildTrie(t[e])),_r_()},this),JSON.stringify(i)))},_restoreObj:function(e){_i_("df7:ee09705e");for(var t={},i=[],r=[],s=0;s<e.length;s++)if("("===e[s])r.push(0);else if(")"===e[s]){for(;r[r.length-1]--;)i.pop();r.pop()}else"+"===e[s]?t[i.join("")]=1:"?"===e[s]?t[i.join("")]=0:(r[r.length-1]++,i.push(e[s]));return _r_(t)},_buildTrie:function(s){_i_("df7:a1f459f0");var n={n:{}};return _r_((Object.keys(s).forEach(function(e){_i_("df7:c3828671");for(var t,i=n,r=0;r<e.length;r++)t=e[r],i.n[t]||(i.n[t]={n:{}}),i=i.n[t],r===e.length-1&&(i.v=Math.max(s[e],i.v||0));_r_()},this),n))},_stringifyTree:function(e){_i_("df7:b90e3f36");var t,i="";if(t=Object.keys(e.n),void 0!==e.v&&(0===e.v?i+="?":i+="+"),0===t.length)return _r_(i);for(var r=0;r<t.length;r++)1<t.length?i+="("+t[r]+this._stringifyTree(e.n[t[r]])+")":i+=t[r]+this._stringifyTree(e.n[t[r]]);return _r_(i)}}),Object.assign(S.prototype,{buildUsage:function(e){return _i_("df7:981f5773"),_r_(Object.assign({},e.getUsedItems()))}});var p={USAGE_PROCESSOR_TYPE:{STRAIGHT_FORWARD:1,STRAIGHT_FORWARD_ARRAY_BASED:2,SIEVED_FRACTIONED:3,FOR_RULE_LIST:4,COMPRESSED:10},createUsageProcessor:function(e){if(_i_("df7:5f9ef895"),e===this.USAGE_PROCESSOR_TYPE.STRAIGHT_FORWARD)return _r_(new a);if(e===this.USAGE_PROCESSOR_TYPE.STRAIGHT_FORWARD_ARRAY_BASED)return _r_(new f);if(e===this.USAGE_PROCESSOR_TYPE.SIEVED_FRACTIONED)return _r_(new d);if(e===this.USAGE_PROCESSOR_TYPE.COMPRESSED)return _r_(new g);if(e===this.USAGE_PROCESSOR_TYPE.FOR_RULE_LIST)return _r_(new S);throw new Error("Unknown usage processor type – "+e)}};Object.assign(b.prototype,{init:function(){var e;_i_("df7:cf4595b6"),"function"==typeof window.requestIdleCallback&&"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations&&!m.get("fallback").force?(e=new i(v(!0),p.createUsageProcessor(p.USAGE_PROCESSOR_TYPE.SIEVED_FRACTIONED)),y.log("CSS Collector: IdleCallback + Service Worker mode"),e.init()):m.get("fallback").useFallback&&(e=new u(v(!1),p.createUsageProcessor(p.USAGE_PROCESSOR_TYPE.FOR_RULE_LIST)),y.log("CSS Collector: Fallback mode"),e.init()),this.controller=e,this.started=!1,_r_()},start:function(){return _i_("df7:4806d9ae"),_r_(!!this.controller&&(this.started?(y.log("CSS Collector: collection already started."),!1):(this.controller.run(),!0)))},getCoverage:function(){return _i_("df7:38f30c46"),_r_(!!this.controller&&this.controller.getCoverage())},getConfig:function(e){return _i_("df7:bcbca34b"),_r_(m.get(e))}});var O=null;return _r_(function(e){if(_i_("df7:46a346e5"),!e)throw new Error("CSS Coverage: please provide configuration object.");return _r_((m.init(e),(O=new b(e)).init(),m.get("autoStart")&&O.start(),O))})}(window.jQuery,window.Promise);return _r_(t)}),function(e,c){_i_("df7:52979ff9"),c.require(["require","promise","jquery","et","server-data","css-coverage-collector"],function(e,t,i,r,s,n){_i_("df7:86b6efe1");var _=Number(c.et.track("eITffOQMWWXcdMePNJXNLOLOLMO")),o="eITffOQMWWXcdMePNJXNLOLOLMO";if(!!Boolean(c.env&&"general"===c.env.b_action))return _r_();window.cssCoverage=n({autoStart:!1,siteType:s.b_site_type,pageName:s.b_action,version:3,coverage:{processAllStylesheets:s.b_is_dev_server||s.b_dev_server,hostnames:s.static_hostnames||[],filenames:[],onStylesheetAccessError:function(e){var t;_i_("df7:030e0b2c"),"SecurityError"===e.name?t=1:"InvalidAccessError"===e.name&&(t=2),t&&r.customGoal(o,t),_r_()},onStylesheetXHRSend:function(){_i_("df7:764f08f7"),r.customGoal(o,3),_r_()},onStylesheetXHRDone:function(){_i_("df7:7692f65a"),r.customGoal(o,4),_r_()},onStylesheetXHRFail:function(){_i_("df7:b89f6dc7"),r.customGoal(o,5),_r_()}},service:{endpoint:(s.b_is_app?s.b_domain_for_app:s.b_domain_for_book)+"/css_selectors",csrfToken:s.b_csrf_token},latency:"mdot"===s.b_site_type?.8:.2,fallback:{useFallback:!1}}),3===_&&(window.cssCoverage.__collecting__=!0,window.cssCoverage.start()),_r_()}),_r_()}(jQuery,booking);